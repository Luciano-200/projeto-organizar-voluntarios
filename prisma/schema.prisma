// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id        Int        @id @default(autoincrement())
  name      String     @db.VarChar(255)
  email     String     @unique @db.VarChar(255)
  password  String     @db.VarChar(255)
  organizer Organizer?
  volunteer Volunteer?
  user      User?      @default(USER)
}

model Organizer {
  id        Int      @id @default(autoincrement())
  accountId Int      @unique
  account   Account? @relation(fields: [accountId], references: [id])
}

model Volunteer {
  id               Int              @id @default(autoincrement())
  accountId        Int              @unique
  account          Account?         @relation(fields: [accountId], references: [id])
  region           Region
  availabilityTime Availability
  availability     String?
  equipment        String?          @db.VarChar(255)
  expertise        Expertise?       @default(NONE)
  status           VolunteerStatus? @default(CONTACTED)
  phoneNumber      String?          @db.VarChar(255)
  tasks            Tasks[]
}

model Needs {
  id             Int             @id @default(autoincrement())
  needs          String
  categoryOfNeed CategoryOfNeed?
}

model Tasks {
  id         Int         @id @default(autoincrement())
  objectives String      @db.VarChar(255)
  details    String?
  volunteers Volunteer[]
  equipments String?
  startDate  DateTime
  endDate    DateTime?
  status     TaskStatus? @default(SCHEDULED)
}

enum Expertise {
  NONE
  DOCTOR
  NURSE
  FIREFIGHTER
  PSYCHOLOGIST
  POLICE_OFFICER
  LIFEGUARD
  ENGINEER
  VETERINARIAN
}

enum TaskStatus {
  SCHEDULED
  STARTED
  COMPLETED
}

enum CategoryOfNeed {
  FOOD
  CLOTHING_AND_FOOTWEAR
  PERSONAL_HYGIENE
  CLEANING_SUPPLIES
  BEDDING
  FURNITURE
  MONEY
  SPECIALIST
  VOLUNTEER
}

enum VolunteerStatus {
  CONTACTED
  SELECTED
  CLOSED
}

enum Region {
  INTERNATIONAL
  NORTH
  NORTHEAST
  SOUTH
  SOUTHEAST
  CENTRAL_WEST
}

enum Availability {
  MORNING
  AFTERNOON
  EVENING
  MORNING_AFTERNOON
  MORNING_EVENING
  AFTERNOON_EVENING
  FULL_DAY
}

enum User {
  USER
  ADMIN
}
